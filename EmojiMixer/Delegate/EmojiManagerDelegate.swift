
import Foundation


final class EmojiManagerDelegate: EmojiMixerDelegateProtocol {
    
    let emojies = [
        // –£–ª—ã–±–∫–∏ –∏ –ª–∏—Ü–∞
        "üòÄ", "üòÇ", "üòä", "üòç", "üòú",
        // –ñ–µ—Å—Ç—ã –∏ —Ä—É–∫–∏
        "üëç", "üëé", "üëå", "üëè", "üôè",
        // –õ—é–¥–∏ –∏ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å
        "üíÉ", "üï∫", "üë´", "üë©‚Äç‚ù§Ô∏è‚Äçüë®", "üë®‚Äçüë©‚Äçüëß",
        // –ñ–∏–≤–æ—Ç–Ω—ã–µ –∏ –ø—Ä–∏—Ä–æ–¥–∞
        "üê∂", "üê±", "üê∞", "ü¶Å", "üêº",
        // –ï–¥–∞ –∏ –Ω–∞–ø–∏—Ç–∫–∏
        "üçè", "üçï", "üçî", "üç£", "üç´",
        // –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
        "‚úàÔ∏è", "üöó", "üöÄ", "üöÅ", "üö≤",
        // –°–∏–º–≤–æ–ª—ã –∏ –æ–±—ä–µ–∫—Ç—ã
        "üí°", "üì±", "üíª", "‚åõÔ∏è", "üîí",
        "üçá", "üçà", "üçâ", "üçä", "üçã", "üçå", "üçç", "ü•≠", "üçé", "üçè", "üçê", "üçí", "üçì", "ü´ê", "ü•ù", "üçÖ", "ü´í", "ü••", "ü•ë", "üçÜ", "ü•î", "ü•ï", "üåΩ", "üå∂Ô∏è", "ü´ë", "ü•í", "ü•¨", "ü•¶", "üßÑ", "üßÖ", "üçÑ"
    ]
    
    //–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–º–æ–¥–∑–∏
    var visibleEmojies = [String]()
    
    func makeNewMix() -> String?  {
        guard let first = emojies.randomElement() else {return nil}
        guard let second = emojies.randomElement() else {return nil}
        guard let third = emojies.randomElement() else {return nil}
        let randomMix = first + second + third
        print(randomMix)
        return randomMix
    }
    
    func addRandomEmoji() {
        
        guard let randomEmoji = makeNewMix() else {
            print("addRandomEmoji: –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–±—Ä–∞—Ç—å randomEmoji")
            return}
        visibleEmojies.append(randomEmoji)
    }
    
    func undoLastEmoji() -> Int? {
        if !visibleEmojies.isEmpty { // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç –≤ –º–∞—Å—Å–∏–≤–µ
            let lastIndex = visibleEmojies.count - 1 // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–Ω–¥–µ–∫—Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
            visibleEmojies.removeLast() // –£–¥–∞–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–º–æ–¥–∑–∏ –∏–∑ –º–∞—Å—Å–∏–≤–∞
            return lastIndex
        }
        return nil
    }
}
